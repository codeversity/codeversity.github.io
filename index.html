<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <script type="text/javascript" src="simcir.js"></script>
  <link rel="stylesheet" type="text/css" href="simcir.css" />
  <script type="text/javascript" src="simcir-basicset.js"></script>
  <link rel="stylesheet" type="text/css" href="simcir-basicset.css" />
  <script type="text/javascript" src="simcir-library.js"></script>
  <script type="text/javascript" src="state.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"> 
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css" />
  <title>Loogiset portit</title>
</head>
<body>
<h1>Loogiset portit</h1>
<p>
  Tervetuloa opiskelemaan loogisia portteja. Nämä tehtävät ovat suunnattu 6-luokkalaisille.
</p>
<p>
  Loogiset portit (englanniksi logic gates) ovat kaiken tietokoneen toiminnan peruspalanen.
  Loogisista porteista rakentuvat elektroniset piirit, joista rakentuvat kaikki tietokoneen osat.
</p>
<p>
  Näiden tehtävien parissa harjoitellaan erilaisten piirien luomista ja siten loogista ajattelua.
  Oppimistavoitteena on myös ymmärrys siitä, että NAND-porteilla voi tehdä kaikki muuntyyppiset portit,
  sekä jonkinlainen käsitys siitä, miten piirit kehittyvät kokonaisiksi tietokoneiksi.
</p>
<p>
  Kullakin portilla on yksi tai useampi sisääntulo (input), jotka ovat joko matalaa sähköjännitettä,
  joka merkataan yleensä 0 tai false, tai korkeaa sähköjännitettä, joka merkataaan 1 tai true. Porteilla
  on myös ulostulo (output), joka tunnetaan myös nimellä lähtö. Tämä ulostulo on myös joko matalaa tai
  korkeaa sähköjännitettä, eli false tai true, riippuen siitä, minkälainen portti on kyseessä ja mitkä
  olivat sisääntulojen arvot.
</p>
<p>
  <a href="https://fi.wikipedia.org/wiki/Looginen_portti">Wikipediasta</a>
  löytyy hyvin selkeästi esitettynä loogiset portit.
</p>
<br />
<h2>Perustehtävät</h2>
<h3>1. AND-portti</h3>
<p>Yksi simppeleimmistä porteista on AND-portti. AND-portti päästää virtaa eteenpäin (true), vain
  jos sen molemmat sisääntulot tuovat sinne virtaa (true).
</p>
<p>Napauttamalla nappeja A ja B voit pistää ne päälle tai pois. LED syttyy punaiseksi, kun se saa virtaa.</p>
<p>Tässä piirissä on kuitenkin pieni vika. Nappi A on hienosti kiinni AND-portissa, mutta B on jäänyt
  irti. Korjaa piiri niin, että pääset testaamaan, toimiiko AND-portti kuten sen pitää.
</p>

<div class="simcir" id="teht1">
  {
    "width":600,
    "height":400,
    "showToolbox":false,
    "devices":[
      {"type":"DC","id":"dc", "x": 125, "y": 180, "label": "Virta"},
      {"type":"Toggle","id":"t0", "x": 200, "y": 130, "label": "Nappi A"},
      {"type":"Toggle","id":"t1", "x": 200, "y": 230, "label": "Nappi B"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"},
      {"type":"AND","id":"and0", "x": 280, "y": 180, "label": "AND"}
    ],
    "connectors":[
      {"from":"dc.out0","to":"t0.in0"},
      {"from":"dc.out0","to":"t1.in0"},
      {"from":"t0.out0","to":"and0.in0"},
      {"from":"and0.out0","to":"led.in0"}
    ]
  }
</div>

<h3>
  2. NOT-portti
</h3>
<p>
  NOT on myös yksinkertainen mutta hyvin tärkeä portti. Sen arvo on true jos sen sisääntulon arvo on false,
  ja toisin päin.
</p>
<p>
  Harjoitellaan tässä tehtävässä vielä piirin osien yhdistämistä toisiinsa. Voit osat yhdistettyäsi nähdä, miten NOT-portti
  toimii.
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":false,
    "devices":[
      {"type":"DC","id":"dc", "x": 125, "y": 180, "label": "Virta"},
      {"type":"Toggle","id":"t0", "x": 200, "y": 180, "label": "Nappi A"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"},
      {"type":"NOT","id":"n", "x": 280, "y": 180, "label": "NOT"}
    ],
    "connectors":[
      {"from":"dc.out0","to":"t0.in0"}
    ]
  }
</div>

<h3>
  3. NAND-portti
</h3>
<p>
  Seuraavaksi päästään yhdistelemään useita portteja toisiinsa! 
</p>
<p>
  Vasemmalla puolella on nyt lista piirin osista, joita voit raahamalla lisätä piirilevylle. Osia
  voi lisätä vaikka kuinka monta, mutta tässä tehtävässä pärjää, kun lisää yhden kutakin porttia ja
  kaksi nappia. Huomaa, että osia voi myös siirtää ympäriinsä virtapiirillä.
</p>
<p>
  Osaatko tehdä AND- ja NOT-portit yhdistämällä NAND (eli NOT AND)-portin? NAND-portti toimii päinvastaisesti kuin
  AND-portti. Sen tulo on false, jos molemmat sisääntulot ovat true.
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox":[
      {"type":"Toggle","label":"Nappi"},
      {"type":"AND"},
      {"type":"NOT"}
    ],
    "devices":[
      {"type":"DC","id":"dc", "x": 125, "y": 180, "label": "Virta"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"}
    ]
  }
</div>

<h3>
  4. OR ja NOR -portit
</h3>
<p>
  OR-portti tuottaa arvon true, jos jompikumpi tai molemmat sisääntulot ovat true. Tee toimiva piiri,
  jossa on kaksi nappia ja OR-portti.
</p>
<p>
  Kokeile seuraavaksi, onnistuuko sinulta piirin muokkaaminen niin, että teetkin NOR (NOT OR)-portin. Samalla tavalla
  kuin NAND-portti oli päinvastainen AND-portti, on NOR-portti päinvastainen OR-portti. Milloin sen siis pitäisi
  tuottaa true ja milloin false? Tätä voi miettiä vaikka pareittain.
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox":[
      {"type":"Toggle","label":"Nappi"},
      {"type":"OR"},
      {"type":"NOT"}
    ],
    "devices":[
      {"type":"DC","id":"dc", "x": 125, "y": 180, "label": "Virta"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"}
    ]
  }
</div>

<h3>
  5. XOR-portti
</h3>
<p>
  XOR-portti onkin astetta mielenkiintoisempi yksilö. XOR on lyhenne sanoista "Exclusive OR" eli "poissulkeva tai".
  Tälle on onneksi suomen kielessä paljon helpommin ymmärrettävä nimi: TAI-portti.
</p>
<p>
  Tee jälleen piiri, jossa on kaksi nappia XOR-portin lisäksi. Milloin XOR tuottaa true ja milloin false? Voitte miettiä
  vierustoverin kanssa tai itseksenne, mitä hyötyä tällaisesta logiikasta voisi olla.
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox":[
      {"type":"Toggle","label":"Nappi"},
      {"type":"XOR"}
    ],
    "devices":[
      {"type":"DC","id":"dc", "x": 125, "y": 180, "label": "Virta"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"}
    ]
  }
</div>

<h3>
  6. XNOR-portti
</h3>
<p>
  XNOR alkaa olla englanniksi jo melkoinen sanahirvitys, nimittäin "exclusive not or". Onneksi suomen kieli pelastaa jälleen.
  Suomenkielinen nimi tästä portista on nimittäin SAMA-portti. Tämän voikin ehkä jo päätellä siitä, että XOR oli ERI-portti,
  ja koska tässä on "not" mukana, on tämä päinvastainen portti. Sama ja erihän ovat vastakohtia toisilleen.
</p>
<p>
  Toteuta XNOR-portti annettujen osien avulla.
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox":[
      {"type":"Toggle","label":"Nappi"},
      {"type":"XOR"},
      {"type":"NOT"}
    ],
    "devices":[
      {"type":"DC","id":"dc", "x": 125, "y": 180, "label": "Virta"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"}
    ]
  }
</div>
<p>
  Hienoa! Nyt osaat kaikki tavanomaiset loogiset portit.
  Jos mieleen ei ihan täysin painunut, miten kukin portti toimi, voit kerrata katsomalla Wikipedia-sivun totuustaulut, tai
  vielä leikkiä aiemmilla vastauksillasi, ja nähdä, milloin LED palaa ja milloin ei.
  Muutoin voit siirtyä vaikeisiin tehtäviin tai tehdä muuta itsenäistä ja hiljaista työskentelyä. Sivun alareunasta löydät
  hiekkalaatikon, jossa voit vapaasti leikkiä erilaisilla piirien osilla.
</p>
<h2>Vaikeat tehtävät</h2>
<p>
  Nämä tehtävät voivat olla huomattavasti vaikeampia kuin perustehtävät, joten älä lannistu, jos meneekin hetki ymmärtää. Jos
  taas menee ihan yli hilseen, kysy rohkeasti vierustoverilta tai opettajalta. Jos nämä sujuvat helposti, auta toki muita.
</p>
<h3>
  7. NAND-porteilla AND-portti
</h3>
<p>
  NAND-portit (ja myös NOR-portit) ovat siitä hienoja, että niiden avulla voidaan rakentaa kaikki muut portit. Toisin
  sanottuna pelkillä NAND-porteilla voidaan rakentaa vaikka kokonainen tietokone. Miten ihmeessä se niin toimii? Nyt opitaan se!
</p>
<p>
  Lähdetään siitä, että tehdään NAND-portilla AND-portti. Kuulostaa nurinkuriselta, mutta tosielämässäkin joskus mikropiireissä
  AND-logiikkaa tehdään NAND-porteilla.
</p>
<p>
  Oikea vastaus on löytynyt, kun piiri toimii kuten AND-portti. Siihen tarvitaan vain kaksi NAND-porttia!
  
  Vinkki: voiko NAND-porttia jotenkin käyttää kuten NOT-porttia?
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox":[
      {"type":"Toggle","label":"Nappi"},
      {"type":"NAND"}
    ],
    "devices":[
      {"type":"DC","id":"dc", "x": 75, "y": 180, "label": "Virta"},
      {"type":"Toggle","id":"t0", "x": 130, "y": 130, "label": "Nappi A"},
      {"type":"Toggle","id":"t1", "x": 130, "y": 230, "label": "Nappi B"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"}
    ],
    "connectors":[
      {"from":"dc.out0","to":"t0.in0"},
      {"from":"dc.out0","to":"t1.in0"}
    ]
  }
</div>

<h3>
  8. NAND-porteilla OR-portti
</h3>
<p>
  Tehdään seuraavaksi vain NAND-portteja käyttämällä NOR-portti. 
</p>
<p>
  Oikea vastaus on löytynyt, kun piiri toimii kuten OR-portti. Vinkki: tähän tarvitaan vain kolme NAND-porttia!
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox":[
      {"type":"Toggle","label":"Nappi"},
      {"type":"NAND"}
    ],
    "devices":[
      {"type":"DC","id":"dc", "x": 75, "y": 180, "label": "Virta"},
      {"type":"Toggle","id":"t0", "x": 130, "y": 130, "label": "Nappi A"},
      {"type":"Toggle","id":"t1", "x": 130, "y": 230, "label": "Nappi B"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"}
    ],
    "connectors":[
      {"from":"dc.out0","to":"t0.in0"},
      {"from":"dc.out0","to":"t1.in0"}
    ]
  }
</div>


<h3>
  9. NAND-porteilla NOR-portti
</h3>
<p>
  Tehdään seuraavaksi vain NAND-portteja käyttämällä OR-portti. 
</p>
<p>
  Nyt ei kannata rehkiä turhaan. Miettikää edellistä vastausta. Mitä siihen pitää lisätä, että saadaan
  muutettua OR-portista NOR-portti?
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox":[
      {"type":"Toggle","label":"Nappi"},
      {"type":"NAND"}
    ],
    "devices":[
      {"type":"DC","id":"dc", "x": 75, "y": 180, "label": "Virta"},
      {"type":"Toggle","id":"t0", "x": 130, "y": 130, "label": "Nappi A"},
      {"type":"Toggle","id":"t1", "x": 130, "y": 230, "label": "Nappi B"},
      {"type":"LED","id":"led", "x": 350, "y": 180, "label": "LED"}
    ],
    "connectors":[
      {"from":"dc.out0","to":"t0.in0"},
      {"from":"dc.out0","to":"t1.in0"}
    ]
  }
</div>

<h2>
  Hiekkalaatikko
</h2>
<p>
  Tässä voi leikkiä kaikilla löytyvillä osilla.
</p>
<div class="simcir">
  {
    "width":600,
    "height":400,
    "showToolbox":true,
    "toolbox": [
      {"type":"DC","label":"Virta"},
      {"type":"Toggle","label":"Nappi"},
      {"type":"PushOn","label":"NousevaNappi"},
      {"type":"LED"},
      {"type":"AND"},
      {"type":"NOT"},
      {"type":"OR"},
      {"type":"NAND"},
      {"type":"NOR"},
      {"type":"XOR"},
      {"type":"XNOR"},
      {"type":"4bit7seg","label":"4BitNaytto"},
      {"type":"7seg","label":"8BitNaytto"},
      {"type":"16seg","label":"16BitNaytto"},
      {"type":"RotaryEncoder","label":"Säädin"}
    ]
  }
</div>
</body>
</html>